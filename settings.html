<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Настройки</title>
    <style>
        body { margin: 0; font-family: 'Courier New', monospace; background: url('./textures/dirt.png'); display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: white; }
        body::before { content: ""; position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); z-index: -1; }
        h1 { font-size: 40px; margin-bottom: 30px; text-shadow: 2px 2px #000; }
        .row { margin: 15px; text-align: center; }
        input[type=range] { width: 300px; }
        .mc-btn { width: 300px; padding: 15px; margin-top: 30px; font-size: 20px; color: #ddd; background: #777; border: 4px solid #555; cursor: pointer; }
    </style>
</head>
<body>
    <h1>НАСТРОЙКИ</h1>
    <div class="row">
        <label>Чувствительность мыши: <span id="sens-val">0.5</span></label><br>
        <input type="range" min="0.1" max="2.0" step="0.1" value="0.5" id="sens">
    </div>
    <div class="row">
        <label>Дальность прорисовки: <span id="dist-val">60</span></label><br>
        <input type="range" min="20" max="150" step="10" value="60" id="dist">
    </div>
    <button class="mc-btn" onclick="save()">ГОТОВО</button>

    <script>
        const conf = JSON.parse(localStorage.getItem('mc_settings') || '{"sens":0.5, "dist":60}');
        document.getElementById('sens').value = conf.sens;
        document.getElementById('dist').value = conf.dist;
        document.getElementById('sens-val').innerText = conf.sens;
        document.getElementById('dist-val').innerText = conf.dist;

        document.getElementById('sens').oninput = (e) => document.getElementById('sens-val').innerText = e.target.value;
        document.getElementById('dist').oninput = (e) => document.getElementById('dist-val').innerText = e.target.value;

        function save() {
            const newConf = {
                sens: parseFloat(document.getElementById('sens').value),
                dist: parseInt(document.getElementById('dist').value)
            };
            localStorage.setItem('mc_settings', JSON.stringify(newConf));
            window.location.href = 'index.html'; // Исправлено на index.html
        }
    </script>
</body>
</html>
